<!DOCTYPE html>
<html lang="ro">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Finalizează Comanda - Piața Producătorilor Locali</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="css/index.css">
</head>

<body>
    <!-- Header -->
    <header class="section" style="padding: 1rem 0;">
        <div class="container flex flex-row-mobile justify-between items-center">
            <div class="flex flex-row-mobile items-center gap-sm">
                <a href="index.html" class="logo">
                    <i class="fas fa-leaf"></i> Producători Locali
                </a>
            </div>
            <div class="flex flex-row-mobile gap-sm items-center">
                <a href="cart.html" class="btn-icon position-relative">
                    <i class="fas fa-shopping-basket"></i>
                    <span id="cart-count" class="badge badge-new"
                        style="position: absolute; top: -5px; right: -5px; padding: 0.2rem 0.4rem; font-size: 0.6rem;">0</span>
                </a>
            </div>
        </div>
    </header>

    <section style="background: linear-gradient(135deg, var(--primary-light), var(--secondary)); padding: 3rem 0;">
        <div class="container text-center">
            <h1 style="color: var(--primary-dark);"><i class="fas fa-credit-card"></i> Finalizare Comandă</h1>
            <p class="text-muted">Introdu datele de livrare pentru a primi produsele proaspete</p>
        </div>
    </section>

    <section class="section">
        <div class="container">
            <form id="checkout-form" onsubmit="CheckoutPage.placeOrder(event)">
                <div class="flex gap-md" style="align-items: flex-start;">
                    <!-- Billing & Shipping -->
                    <div style="flex: 2;">
                        <div class="card" style="padding: var(--spacing-lg); margin-bottom: var(--spacing-md);">
                            <h3
                                style="margin-bottom: var(--spacing-md); border-bottom: 2px solid var(--primary-light); padding-bottom: 0.5rem;">
                                <i class="fas fa-user"></i> Informații Client
                            </h3>
                            <div class="grid grid-cols-2">
                                <div class="form-group">
                                    <label class="form-label">Nume Complet *</label>
                                    <input type="text" id="cust-name" class="form-input" placeholder="ex: Ion Popescu"
                                        required>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Telefon *</label>
                                    <input type="tel" id="cust-phone" class="form-input" placeholder="ex: 0722123456"
                                        required>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Email *</label>
                                <input type="email" id="cust-email" class="form-input" placeholder="ex: ion@email.ro"
                                    required>
                            </div>
                        </div>

                        <div class="card" style="padding: var(--spacing-lg);">
                            <h3
                                style="margin-bottom: var(--spacing-md); border-bottom: 2px solid var(--primary-light); padding-bottom: 0.5rem;">
                                <i class="fas fa-truck"></i> Adresă de Livrare
                            </h3>
                            <div class="grid grid-cols-2">
                                <div class="form-group">
                                    <label class="form-label">Județ *</label>
                                    <input type="text" id="del-county" class="form-input" placeholder="ex: Timiș"
                                        required>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Localitate *</label>
                                    <input type="text" id="del-city" class="form-input" placeholder="ex: Timișoara"
                                        required>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Adresă Completă *</label>
                                <textarea id="del-address" class="form-input" style="height: 100px;"
                                    placeholder="Strada, Număr, Bloc, Apartament..." required></textarea>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Note Comandă (Opțional)</label>
                                <textarea id="order-notes" class="form-input" style="height: 60px;"
                                    placeholder="Detalii suplimentare pentru curier..."></textarea>
                            </div>
                        </div>
                    </div>

                    <!-- Summary & Payment -->
                    <aside
                        style="flex: 1; background: var(--white); padding: var(--spacing-lg); border-radius: var(--border-radius-lg); box-shadow: var(--shadow-md); position: sticky; top: 100px;">
                        <h3 style="margin-bottom: var(--spacing-md);">Comanda Ta</h3>

                        <div id="checkout-items" class="flex-col gap-sm"
                            style="max-height: 200px; overflow-y: auto; margin-bottom: var(--spacing-md); padding-right: 5px;">
                            <!-- Items placeholder -->
                        </div>

                        <div class="flex justify-between" style="margin-bottom: var(--spacing-sm);">
                            <span>Total de plată:</span>
                            <span id="order-total"
                                style="font-size: 1.5rem; font-weight: 700; color: var(--primary-dark);">0.00 Lei</span>
                        </div>

                        <div
                            style="margin: var(--spacing-md) 0; padding: var(--spacing-md); background: #f9f9f9; border-radius: var(--border-radius-md);">
                            <h4 style="margin-bottom: 0.5rem;">Metodă de Plată</h4>
                            <div class="form-group" style="margin-bottom: 0;">
                                <label class="flex items-center gap-sm" style="cursor: pointer;">
                                    <input type="radio" name="payment" value="cash" checked> Ramburs (Cash la livrare)
                                </label>
                                <label class="flex items-center gap-sm"
                                    style="cursor: pointer; opacity: 0.5; margin-top: 5px;">
                                    <input type="radio" name="payment" value="card" disabled> Card Online (În curând)
                                </label>
                            </div>
                        </div>

                        <button type="submit" id="place-order-btn" class="btn btn-primary"
                            style="width: 100%; font-size: 1.1rem; padding: 1rem;">
                            <i class="fas fa-check-circle"></i> Plasează Comanda
                        </button>

                        <p style="text-align: center; font-size: 0.8rem; color: var(--text-muted); margin-top: 1rem;">
                            Prin plasarea comenzii, ești de acord cu <a href="#"
                                style="text-decoration: underline;">Termenii și Condițiile</a> noastre.
                        </p>
                    </aside>
                </div>
            </form>
        </div>
    </section>

    <!-- Success Modal -->
    <div id="success-modal" class="modal"
        style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 2000; align-items: center; justify-content: center;">
        <div class="card" style="max-width: 500px; padding: 3rem; text-align: center;">
            <i class="fas fa-check-circle" style="font-size: 5rem; color: var(--primary); margin-bottom: 1.5rem;"></i>
            <h2 style="margin-bottom: 1rem;">Comandă Plasată!</h2>
            <p class="text-muted" style="margin-bottom: 2rem;">Vei fi contactat în curând de către producători pentru
                confirmare și livrare.</p>
            <a href="index.html" class="btn btn-primary">Înapoi la Acasă</a>
        </div>
    </div>

    <div class="toast-container" id="toast-container"></div>

    <script src="js/app.js?v=2"></script>
    <script src="js/checkout.js?v=2"></script>
</body>

</html>